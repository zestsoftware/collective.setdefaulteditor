<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<metal:block fill-slot="top_slot"
             tal:define="dummy python:request.set('disable_border',1)" />

<body>

<div metal:fill-slot="prefs_configlet_content">
  <h1>Set the default editor for existing users</h1>

  <div metal:use-macro="here/global_statusmessage/macros/portal_message">
    Portal status message
  </div>

  <form method="post"
        action="">
    <fieldset>
      <legend>Select editor</legend>
      <div class="field">
        <select name="editor"
                id="editor"
                tal:define="current python:request.get('editor', view.default_editor);">
          <tal:block tal:repeat="editor view/available_editors">
            <option tal:condition="python:editor not in ('None', '')"
                    value="None"
                    tal:attributes="value editor;
                                    selected python:editor==current and 'selected' or None;"
                    tal:content="editor"
                    i18n:translate="">
              WYSIWYG-editor
            </option>
            <option tal:condition="python:editor == 'None'"
                    value="None"
                    tal:attributes="value editor;
                                    selected python:editor==current and 'selected' or None;"
                    i18n:translate="label_ordinary_content_editor">
              Basic HTML textarea editor (works in all browsers)
            </option>
            <option tal:condition="python:editor == ''"
                    value=""
                    tal:attributes="value editor;
                                    selected python:editor==current and 'selected' or None;"
                    i18n:domain="plone"
                    i18n:translate="vocabulary-available-editor-novalue">
              Use site default
            </option>            
          </tal:block>
        </select>
      </div>

      <div class="field">
        <input type="checkbox" name="update-default"
               tal:attributes="checked python:request.get('update-default') and 'checked' or None;" />
        <label for="update-default">
          <em>Additionally</em> update the
          default editor for <em>new</em> members as well.
        </label>
      </div>

      <div class="field">
        <input type="checkbox" name="dryrun"
               tal:attributes="checked python:request.get('dryrun') and 'checked' or None;" />
        <label for="dryrun">Dry run (nothing will be changed)</label>
      </div>
    </fieldset>
    <div class="formControls">
      <input type="submit" class="context" value="Submit" />
    </div>
  </form>

</div>
</body>
</html>
